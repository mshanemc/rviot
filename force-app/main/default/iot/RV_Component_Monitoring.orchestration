{"global":{"id":0,"initial":false,"name":"Always","rules":[{"actions":[],"condition":"","description":"","id":0}]},"properties":{},"states":[{"id":1,"initial":true,"name":"Default","rules":[{"actions":[{"stateId":2,"type":"ChangeState"}],"condition":"","description":"","id":0,"when":{"type":"Always"}}]},{"id":2,"initial":false,"name":"Registering","rules":[{"actions":[{"stateId":3,"type":"ChangeState"}],"condition":"","description":"","id":0,"when":{"eventSource":"LippertComponentCode__e","type":"Event"}}]},{"id":3,"initial":false,"name":"normal","rules":[{"actions":[{"fieldAssignments":[{"field":"Status__c","value":"\"Not Connected\""}],"id":1,"isResponseIngested":false,"label":"Set component as Not Connected","name":"Edit","recordFilters":[{"field":"ProductUniqueId__c","value":"ProductUniqueId"}],"responseEventName":"","salesforceObjectApiName":"Component__c","type":"SalesforceOutputAction"},{"stateId":5,"type":"ChangeState"}],"condition":"","description":"","id":0,"when":{"type":"Hour","value":"1"}},{"actions":[{"fieldAssignments":[{"field":"Status__c","value":"\"Error\""}],"id":1,"isResponseIngested":false,"label":"Set Component to Error State","name":"Edit","recordFilters":[{"field":"ProductUniqueId__c","value":"LippertComponentCode__e.ProductUniqueID__c"}],"responseEventName":"","salesforceObjectApiName":"Component__c","type":"SalesforceOutputAction"},{"fieldAssignments":[{"field":"Component__c","value":"Component__c.Id"},{"field":"Vehicle__c","value":"Component__c.Vehicle__c"},{"field":"ContactId","value":"Component__c.Vehicle__r.Owner__c"},{"field":"Description","value":"\"Error from Component\""},{"field":"Reason","value":"LippertComponentCode__e.DTC_Type__c"},{"field":"Origin","value":"\"IoT\""}],"id":2,"isResponseIngested":false,"label":"Case creation on Error","name":"Create","recordFilters":[],"responseEventName":"","salesforceObjectApiName":"Case","type":"SalesforceOutputAction"},{"stateId":4,"type":"ChangeState"}],"condition":"LippertComponentCode__e.DTC_Type__c != 'OK'","description":"","id":1,"when":{"eventSource":"LippertComponentCode__e","type":"Event"}},{"actions":[{"stateId":3,"type":"ChangeState"}],"condition":"LippertComponentCode__e.DTC_Type__c == 'OK'","description":"","id":2,"when":{"eventSource":"LippertComponentCode__e","type":"Event"}}]},{"id":4,"initial":false,"name":"error","rules":[{"actions":[{"fieldAssignments":[{"field":"Status__c","value":"\"Normal\""}],"id":1,"isResponseIngested":false,"label":"Salesforce Output Action","name":"Edit","recordFilters":[{"field":"ProductUniqueId__c","value":"LippertComponentCode__e.ProductUniqueID__c"}],"responseEventName":"","salesforceObjectApiName":"Component__c","type":"SalesforceOutputAction"},{"stateId":3,"type":"ChangeState"}],"condition":"LippertComponentCode__e.DTC_Type__c == 'OK'","description":"","id":0,"when":{"eventSource":"LippertComponentCode__e","type":"Event"}}]},{"id":5,"initial":false,"name":"No Connection","rules":[{"actions":[{"stateId":3,"type":"ChangeState"}],"condition":"","description":"","id":0,"when":{"type":"Always"}}]}],"variables":[{"condition":"","dataType":"String","description":"save the id for time we need to use it without the event","eventSource":"LippertComponentCode__e","id":0,"initialValue":"NULL","name":"ProductUniqueId","value":{"formula":"LippertComponentCode__e.ProductUniqueID__c","type":"Custom"}}]}